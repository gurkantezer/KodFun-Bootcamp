<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css"
      integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <title>Görev 1</title>
  </head>
  <body>
    <div class="container">
      <h1 class="mt-3">Gezelim Görelim</h1>
      <form id="frmUlke" class="d-flex gap-2" action="#">
        <div class="flex-fill">
          <input
            id="txtUlke"
            class="form-control"
            type="text"
            name="q"
            placeholder="Ülke.."
            required
          />
        </div>
        <div>
          <button class="btn btn-primary">
            <i class="fa-solid fa-plus"></i>
          </button>
        </div>
      </form>
      <ul class="list-group mt-2" id="ulkeler"></ul>
    </div>

    <script>
      const dizi = [
        "Fransa",
        "İtalya",
        "Avustralya",
        "Amerika",
        "Almanya",
        "İsviçre",
        "Papua Yeni Gine",
        "Finlandiya",
      ];

      const ul = document.getElementById("ulkeler");

      function listele() {
        ul.innerHTML = ""; // önce ul listesini boşalt

        dizi.forEach((ulke, indeks) => {
          const li = document.createElement("li");
          li.textContent = ulke;
          li.className = "list-group-item";
          li.ondblclick = () => {
            dizi.splice(indeks, 1); // çift tıklanan liste ögeleri kaldırılsın
            listele();
          };
          ul.append(li);
        });

        // li'ye çift tıklandığında sağındaki fonk. çağrılsın
        // li.ondblclick = function () {
        //   li.remove();
        // };

        // tek satırlık (yukarıdakinin arrow func ile yazılmış hali )
      }

      // GÖREV: form submit aşamasında submit event'ini iptal et
      // onun yerine ülke kutusundaki değeri al ve dizinin başına ekle
      // ve yukarıdaki listeleme komuutun çalıştır

      const frm = document.getElementById("frmUlke");
      const txt = document.getElementById("txtUlke");

      frm.addEventListener("submit", function (event) {
        event.preventDefault(); // formu teslim etme
        let ulkeAd = txt.value;
        ulkeAd =
          ulkeAd[0].toLocaleUpperCase("tr") +
          ulkeAd.substr(1).toLocaleLowerCase("tr");
        dizi.unshift(ulkeAd);
        txt.value = "";
        listele();
        // console.log(dizi);

        //görev : listeleme metodu oluştur ve çağır
      });

      listele();

      //   function formTeslim (event) {
      //     event.preventDefault(); // formu teslim etme
      //     const ulkeAd = txt.value;
      //     dizi.unshift(ulkeAd);
      //     console.log(dizi);
      //   }

      //   frm.addEventListener("submit", formTeslim );
    </script>
  </body>
</html>
